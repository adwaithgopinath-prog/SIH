<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Signup - Step 1</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      height: 100%;
      background: linear-gradient(135deg, #2f6f3a, #5ea76a);
    }

    .signup-card {
      background: #fff;
      box-shadow: 0 10px 30px rgba(0,0,0,0.25);
      padding: 40px 50px;
      width: 100%;
      height: 100vh;
      overflow-y: auto;
      box-sizing: border-box;
    }

    .progress-container {
      background: #e0e0e0;
      border-radius: 50px;
      height: 12px;
      width: 100%;
      margin-bottom: 30px;
      overflow: hidden;
    }
    .progress-bar {
      height: 12px;
      width: 33%;
      background: #00695c;
      border-radius: 50px;
    }
    .progress-text {
      text-align: right;
      font-size: 14px;
      margin-bottom: 10px;
      color: #004d40;
      font-weight: 500;
    }

    .card-header {
      background: #00695c;
      color: #fff;
      padding: 20px;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
      margin-bottom: 30px;
      border-radius: 8px;
    }

    form {
      display: flex;
      flex-wrap: wrap;
      gap: 25px;
    }

    .form-group {
      flex: 1 1 45%;
      display: flex;
      flex-direction: column;
    }

    label {
      font-weight: 500;
      margin-bottom: 8px;
      color: #004d40;
    }

    input, select {
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      width: 100%;
      padding: 15px;
      margin-top: 20px;
      background: #00695c;
      color: white;
      font-weight: bold;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: 18px;
      transition: 0.3s;
    }

    button:hover {
      background: #004d40;
    }

    .flash-messages {
      margin-bottom: 15px;
      color: red;
      font-weight: bold;
      text-align: center;
    }

    @media (max-width: 900px) {
      .form-group { flex: 1 1 100%; }
    }
  </style>
</head>
<body>

  <div class="signup-card">
    <div class="progress-text">Step 1 of 3</div>
    <div class="progress-container">
      <div class="progress-bar"></div>
    </div>

    <div class="card-header">Personal Info (Basic Details)</div>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash-messages">
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('signup_step1') }}">
      
      <!-- Username and Password -->
      <div class="form-group">
        <label for="username">Username</label>
        <input type="text" name="username" id="username" required>
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" name="password" id="password" required>
      </div>

      <!-- Name and DOB -->
      <div class="form-group">
        <label for="first_name">First Name</label>
        <input type="text" name="first_name" id="first_name" required>
      </div>
      <div class="form-group">
        <label for="last_name">Last Name</label>
        <input type="text" name="last_name" id="last_name" required>
      </div>

      <div class="form-group">
        <label for="dob">Date of Birth</label>
        <input type="date" name="dob" id="dob" required>
      </div>

      <!-- Gender and Mobile -->
      <div class="form-group">
        <label for="gender">Gender</label>
        <select name="gender" id="gender" required>
          <option value="">--Select Gender--</option>
          <option>Woman</option>
          <option>Man</option>
          <option>Transgender</option>
          <option>Non-binary / Non-conforming</option>
          <option>Prefer not to respond</option>
        </select>
      </div>
      <div class="form-group">
        <label for="mobile">Mobile Number</label>
        <input type="text" name="mobile" id="mobile" required>
      </div>

      <!-- Email and Blood Group -->
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" name="email" id="email" required>
      </div>
      <div class="form-group">
        <label for="blood_group">Blood Group</label>
        <input type="text" name="blood_group" id="blood_group">
      </div>

      <!-- Marital Status -->
      <div class="form-group">
        <label for="marital_status">Marital Status</label>
        <select name="marital_status" id="marital_status" required>
          <option value="">--Select Marital Status--</option>
          <option>Unmarried</option>
          <option>Married</option>
          <option>Divorced</option>
        </select>
      </div>

      <!-- Address -->
      <div class="form-group">
        <label for="address">Address</label>
        <input type="text" name="address" id="address">
      </div>

      <!-- State and City -->
      <div class="form-group">
        <label for="state">State</label>
        <select name="state" id="state" required onchange="populateCities()">
          <option value="">--Select State--</option>
          <option>Andhra Pradesh</option>
          <option>Arunachal Pradesh</option>
          <option>Assam</option>
          <option>Bihar</option>
          <option>Chhattisgarh</option>
          <option>Goa</option>
          <option>Gujarat</option>
          <option>Haryana</option>
          <option>Himachal Pradesh</option>
          <option>Jharkhand</option>
          <option>Karnataka</option>
          <option>Kerala</option>
          <option>Madhya Pradesh</option>
          <option>Maharashtra</option>
          <option>Manipur</option>
          <option>Meghalaya</option>
          <option>Mizoram</option>
          <option>Nagaland</option>
          <option>Odisha</option>
          <option>Punjab</option>
          <option>Rajasthan</option>
          <option>Sikkim</option>
          <option>Tamil Nadu</option>
          <option>Telangana</option>
          <option>Tripura</option>
          <option>Uttar Pradesh</option>
          <option>Uttarakhand</option>
          <option>West Bengal</option>
          <option>Delhi</option>
          <option>Chandigarh</option>
          <option>Puducherry</option>
          <option>Jammu and Kashmir</option>
          <option>Ladakh</option>
        </select>
      </div>

      <div class="form-group">
        <label for="city">City</label>
        <select name="city" id="city" required>
          <option value="">--Select City--</option>
        </select>
      </div>

      <!-- PIN -->
      <div class="form-group">
        <label for="pin_code">PIN Code</label>
        <input type="text" name="pin_code" id="pin_code">
      </div>

      <button type="submit">Next</button>
    </form>
  </div>

  <script>
    const citiesByState = {
      "Maharashtra": ["Mumbai","Pune","Nagpur","Nashik","Thane","Aurangabad","Solapur","Kolhapur","Amravati","Sangli","Latur","Jalgaon","Akola","Ahmednagar"],
      "Kerala": ["Thiruvananthapuram","Kochi","Kozhikode","Thrissur","Kollam","Palakkad","Alappuzha","Kannur","Kottayam","Malappuram"],
      "Karnataka": ["Bengaluru","Mysuru","Mangalore","Hubballi","Belagavi","Shivamogga","Davangere","Tumakuru","Ballari","Udupi"],
      "Tamil Nadu": ["Chennai","Coimbatore","Madurai","Tiruchirappalli","Salem","Erode","Tirunelveli","Vellore","Thoothukudi"],
      "Gujarat": ["Ahmedabad","Surat","Vadodara","Rajkot","Bhavnagar","Gandhinagar","Jamnagar","Junagadh","Anand"],
      "Delhi": ["New Delhi","Dwarka","Saket","Karol Bagh","Rohini","Lajpat Nagar"],
      "Uttar Pradesh": ["Lucknow","Kanpur","Varanasi","Agra","Noida","Ghaziabad","Prayagraj","Bareilly","Aligarh","Moradabad"],
      "West Bengal": ["Kolkata","Howrah","Durgapur","Asansol","Siliguri","Malda","Kharagpur"],
      "Madhya Pradesh": ["Bhopal","Indore","Jabalpur","Gwalior","Ujjain","Sagar","Dewas"],
      "Rajasthan": ["Jaipur","Jodhpur","Udaipur","Kota","Ajmer","Bikaner","Alwar"],
      "Telangana": ["Hyderabad","Warangal","Nizamabad","Karimnagar","Khammam"],
      "Goa": ["Panaji","Margao","Vasco da Gama","Mapusa","Ponda"]
    };

    function populateCities() {
      const state = document.getElementById("state").value;
      const citySelect = document.getElementById("city");
      citySelect.innerHTML = '<option value="">--Select City--</option>';
      if (state && citiesByState[state]) {
        citiesByState[state].forEach(city => {
          const option = document.createElement("option");
          option.value = city;
          option.textContent = city;
          citySelect.appendChild(option);
        });
      }
    }
  </script>

</body>
</html>
