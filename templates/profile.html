<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Patient Profile - AyurSutra</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  background: linear-gradient(135deg, #2575FC, #6A11CB);
}

/* ---------------- Card Container ---------------- */
.profile-container {
  width: 90%;
  max-width: 950px;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(18px);
  border-radius: 25px;
  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.35);
  color: #fff;
  padding: 40px;
  margin: 40px auto;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* ---------------- Header ---------------- */
header {
  text-align: center;
  font-size: 28px;
  font-weight: 700;
  color: #fff;
  margin-bottom: 30px;
  letter-spacing: 1px;
}

/* ---------------- Flash Message ---------------- */
.flash-messages {
  background: rgba(255, 0, 0, 0.15);
  border-left: 5px solid #ff5252;
  padding: 15px 20px;
  border-radius: 12px;
  text-align: center;
  margin-bottom: 25px;
  color: #fff;
  font-weight: 500;
}

/* ---------------- Profile Card Layout ---------------- */
.profile-card {
  background: rgba(255, 255, 255, 0.12);
  border-radius: 20px;
  padding: 25px 30px;
  margin-bottom: 30px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
  border: 1px solid rgba(255, 255, 255, 0.2);
  transition: 0.3s ease;
}
.profile-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 15px 35px rgba(0,0,0,0.25);
}
.profile-card h2 {
  font-size: 22px;
  font-weight: 600;
  color: #fff;
  border-bottom: 2px solid rgba(255,255,255,0.3);
  padding-bottom: 10px;
  margin-bottom: 20px;
}

/* ---------------- Aadhaar-style Grid ---------------- */
.profile-info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
}
.profile-info label {
  font-weight: 500;
  color: #e0e0e0;
  font-size: 14px;
  display: block;
  margin-bottom: 6px;
}
.profile-info input, 
.profile-info select {
  width: 100%;
  padding: 12px 15px;
  border-radius: 12px;
  border: none;
  background: rgba(255, 255, 255, 0.25);
  color: #fff;
  font-size: 15px;
  outline: none;
  transition: 0.3s;
}
.profile-info input:focus, 
.profile-info select:focus {
  background: rgba(255, 255, 255, 0.35);
  box-shadow: 0 0 10px rgba(255,255,255,0.4);
}

/* ---------------- Button ---------------- */
button {
  display: block;
  width: 100%;
  background: linear-gradient(90deg, #2575FC, #6A11CB);
  border: none;
  padding: 15px 0;
  border-radius: 50px;
  color: white;
  font-size: 17px;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s ease;
  letter-spacing: 0.5px;
}
button:hover {
  transform: translateY(-3px);
  background: linear-gradient(90deg, #6A11CB, #2575FC);
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}

/* ---------------- Footer ---------------- */
footer {
  text-align: center;
  margin-top: 25px;
  font-size: 14px;
  color: #ddd;
}

/* ---------------- Responsive ---------------- */
@media (max-width: 768px) {
  .profile-container {
    padding: 25px 20px;
  }
}
</style>
</head>
<body>

<div class="profile-container">
  <header>ðŸªª {{ current_user }}'s Profile</header>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="flash-messages">
        {% for message in messages %}
          <p>{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form method="POST" action="{{ url_for('profile') }}">
    <!-- Personal Info -->
    <div class="profile-card">
      <h2>Personal Information</h2>
      <div class="profile-info">
        <div>
          <label>First Name</label>
          <input type="text" name="first_name" value="{{ profile.first_name or '' }}">
        </div>
        <div>
          <label>Last Name</label>
          <input type="text" name="last_name" value="{{ profile.last_name or '' }}">
        </div>
        <div>
          <label>Date of Birth</label>
          <input type="date" name="dob" value="{{ profile.dob.strftime('%Y-%m-%d') if profile.dob else '' }}">
        </div>
        <div>
          <label>Gender</label>
          <select name="gender">
            <option value="Male" {% if profile.gender=='Male' %}selected{% endif %}>Male</option>
            <option value="Female" {% if profile.gender=='Female' %}selected{% endif %}>Female</option>
            <option value="Other" {% if profile.gender=='Other' %}selected{% endif %}>Other</option>
          </select>
        </div>
        <div>
          <label>Mobile Number</label>
          <input type="text" name="mobile_number" value="{{ profile.mobile_number or '' }}">
        </div>
        <div>
          <label>Email</label>
          <input type="email" name="email" value="{{ profile.email or '' }}">
        </div>
        <div>
          <label>Address</label>
          <input type="text" name="address" value="{{ profile.address or '' }}">
        </div>
        <div>
          <label>City</label>
          <input type="text" name="city" value="{{ profile.city or '' }}">
        </div>
        <div>
          <label>State</label>
          <input type="text" name="state" value="{{ profile.state or '' }}">
        </div>
        <div>
          <label>Pin Code</label>
          <input type="text" name="pin_code" value="{{ profile.pin_code or '' }}">
        </div>
      </div>
    </div>

    <!-- Medical Details -->
    <div class="profile-card">
      <h2>Medical Information</h2>
      <div class="profile-info">
        <div>
          <label>Chronic Conditions</label>
          <input type="text" name="chronic_conditions" value="{{ profile.chronic_conditions or '' }}">
        </div>
        <div>
          <label>Allergies</label>
          <input type="text" name="allergies" value="{{ profile.allergies or '' }}">
        </div>
        <div>
          <label>Allergy Details</label>
          <input type="text" name="allergy_details" value="{{ profile.allergy_details or '' }}">
        </div>
        <div>
          <label>Current Medications</label>
          <input type="text" name="current_medications" value="{{ profile.current_medications or '' }}">
        </div>
        <div>
          <label>Supplements / Vitamins</label>
          <input type="text" name="supplements_vitamins" value="{{ profile.supplements_vitamins or '' }}">
        </div>
        <div>
          <label>Previous Surgeries</label>
          <input type="text" name="previous_surgeries" value="{{ profile.previous_surgeries or '' }}">
        </div>
        <div>
          <label>Previous Ayurvedic Treatments</label>
          <input type="text" name="previous_ayurvedic_treatments" value="{{ profile.previous_ayurvedic_treatments or '' }}">
        </div>
        <div>
          <label>Exercise</label>
          <input type="text" name="exercise" value="{{ profile.exercise or '' }}">
        </div>
        <div>
          <label>Smoking Status</label>
          <input type="text" name="smoking_status" value="{{ profile.smoking_status or '' }}">
        </div>
        <div>
          <label>Alcohol</label>
          <input type="text" name="alcohol" value="{{ profile.alcohol or '' }}">
        </div>
        <div>
          <label>Diet Plan</label>
          <input type="text" name="diet_plan" value="{{ profile.diet_plan or '' }}">
        </div>
      </div>
    </div>

    <button type="submit">Update Profile</button>
  </form>

  <footer>AyurSutra &copy; 2025</footer>
</div>

</body>
</html>
